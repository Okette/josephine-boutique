<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>La Boutique de Jos√©phine - Cr√©ations d√©licates au laser</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family:'Georgia', serif; line-height:1.6; color:#5a4a3a;
      background:linear-gradient(135deg, #faf8f6 0%, #f5f1eb 50%, #ede8e0 100%);
      overflow-x:hidden;
    }
    .container { max-width:1200px; margin:0 auto; padding:0 20px; }

    /* Organic shapes */
    .organic-shape { position:absolute; border-radius:50% 30% 70% 40%; opacity:0.1; animation:float 20s infinite ease-in-out; }
    .shape-1 { top:10%; left:5%; width:200px; height:150px; background:#d4a4a4; animation-delay:0s; }
    .shape-2 { top:60%; right:10%; width:150px; height:200px; background:#a4c4d4; animation-delay:7s; }
    .shape-3 { bottom:20%; left:15%; width:180px; height:120px; background:#c4d4a4; animation-delay:14s; }

    /* Header */
    header {
      background:linear-gradient(135deg, rgba(218,165,165,0.9), rgba(202,155,155,0.9));
      backdrop-filter:blur(15px); position:fixed; width:100%; top:0; z-index:1000;
      box-shadow:0 8px 25px rgba(218,165,165,0.2); border-bottom:1px solid rgba(255,255,255,0.3);
    }
    nav { display:flex; justify-content:space-between; align-items:center; padding:1.2rem 0; }
    .logo { font-size:1.8rem; font-weight:300; color:#fff; text-shadow:2px 2px 4px rgba(0,0,0,0.1); font-family:'Georgia', serif; letter-spacing:1px; }
    .nav-links { display:flex; list-style:none; gap:2.5rem; }
    .nav-links a {
      color:white; text-decoration:none; transition:all .3s ease; padding:.8rem 1.5rem; border-radius:25px; font-weight:300; letter-spacing:.5px;
    }
    .nav-links a:hover { background:rgba(255,255,255,0.2); transform:translateY(-2px); }

    /* Hero */
    .hero {
      height:100vh;
      background:linear-gradient(135deg, rgba(218,165,165,0.6), rgba(202,155,155,0.4)),
                 radial-gradient(circle at 30% 70%, rgba(164,196,212,0.3), transparent 50%),
                 radial-gradient(circle at 70% 30%, rgba(196,212,164,0.3), transparent 50%);
      display:flex; align-items:center; justify-content:center; text-align:center; color:#5a4a3a; position:relative; overflow:hidden;
    }
    .hero::before{
      content:''; position:absolute; top:-50%; left:-50%; width:200%; height:200%;
      background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="%23daa5a5" opacity="0.3"/><circle cx="20" cy="20" r="1" fill="%23a4c4d4" opacity="0.4"/><circle cx="80" cy="30" r="1.5" fill="%23c4d4a4" opacity="0.3"/><circle cx="30" cy="80" r="1" fill="%23daa5a5" opacity="0.2"/></svg>') repeat;
      animation:float 30s infinite linear;
    }
    .hero-content { max-width:700px; animation:fadeInUp 1.2s ease-out; z-index:1; position:relative; }
    .hero h1 { font-size:3.2rem; margin-bottom:1.5rem; font-weight:300; text-shadow:2px 2px 4px rgba(255,255,255,0.5); line-height:1.2; }
    .hero p { font-size:1.4rem; margin-bottom:2.5rem; font-weight:300; color:#6b5b4b; line-height:1.4; }
    .cta-button {
      display:inline-block; background:linear-gradient(135deg, #daa5a5, #ca9b9b); color:white; padding:18px 40px; text-decoration:none;
      border-radius:50px; font-weight:300; transition:all .4s ease; box-shadow:0 8px 25px rgba(218,165,165,0.3); letter-spacing:1px; text-transform:lowercase;
    }
    .cta-button:hover{ transform:translateY(-3px); box-shadow:0 12px 30px rgba(218,165,165,0.4); }

    /* Sections */
    section { padding:100px 0; position:relative; }
    .section-title { text-align:center; font-size:2.8rem; margin-bottom:4rem; color:#6b5b4b; font-weight:300; position:relative; line-height:1.3; }
    .section-title::after{
      content:''; position:absolute; bottom:-20px; left:50%; transform:translateX(-50%);
      width:100px; height:2px; background:linear-gradient(135deg, #daa5a5, #a4c4d4); border-radius:2px;
    }

    /* Toolbar (filtre) */
    .toolbar {
      max-width:1200px; margin:-25px auto 20px; padding:0 20px; display:flex; gap:12px; align-items:center; justify-content:flex-end;
      font-size:14px; color:#6b5b4b;
    }
    .toolbar input {
      padding:10px 14px; border-radius:24px; border:1px solid #e5e7eb; background:rgba(255,255,255,0.9); outline:none;
      font-family:'Georgia', serif; min-width:240px;
    }

    /* Products */
    .products-grid {
      display:grid; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));
      gap:2.5rem; margin-top:3rem;
    }
    .product-card {
      background:rgba(255,255,255,0.8); border-radius:30px; overflow:hidden; box-shadow:0 15px 40px rgba(218,165,165,0.15);
      transition:all .4s ease; position:relative; backdrop-filter:blur(10px); border:1px solid rgba(255,255,255,0.3);
    }
    .product-card:hover { transform:translateY(-8px) scale(1.02); box-shadow:0 25px 50px rgba(218,165,165,0.25); }
    .product-image {
      height:220px; background:linear-gradient(135deg, #daa5a5, #a4c4d4, #c4d4a4);
      display:flex; align-items:center; justify-content:center; font-size:3.5rem; color:rgba(255,255,255,0.9); position:relative; overflow:hidden;
    }
    .product-image::before{
      content:''; position:absolute; top:-50%; left:-50%; width:200%; height:200%;
      background:radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
      background-size:30px 30px; animation:sparkle 4s infinite;
    }
    .product-content{ padding:2rem; }
    .product-title{ font-size:1.4rem; margin-bottom:0.5rem; color:#6b5b4b; font-weight:300; letter-spacing:.5px; }
    .product-description{ color:#7a6a5a; line-height:1.6; font-size:.95rem; margin-top:0.75rem; }

    /* Prix badge */
    .price-tag{
      display:inline-block;
      margin-top:.25rem;
      padding:8px 14px;
      border-radius:999px;
      background:rgba(106, 90, 205, 0.12);
      border:1px solid rgba(106, 90, 205, 0.25);
      font-size:0.95rem;
      color:#5a4a3a;
      font-weight:500;
      backdrop-filter:blur(4px);
    }

    /* About */
    .about{ background:linear-gradient(135deg, rgba(255,255,255,0.6), rgba(250,248,246,0.8)); border-radius:0 0 100px 100px; margin-bottom:50px; }
    .about-content{ display:grid; grid-template-columns:1fr 1fr; gap:4rem; align-items:center; }
    .about-text{ font-size:1.1rem; line-height:1.8; color:#6b5b4b; font-weight:300; }
    .about-text p{ margin-bottom:1.5rem; }
    .about-features{ display:grid; grid-template-columns:1fr 1fr; gap:1.5rem; }
    .feature{
      background:rgba(255,255,255,0.7); padding:2rem; border-radius:25px; text-align:center; transition:all .3s ease; backdrop-filter:blur(5px);
      border:1px solid rgba(255,255,255,0.3);
    }
    .feature:hover{ background:rgba(255,255,255,0.9); transform:translateY(-5px); }
    .feature-icon{ font-size:2.5rem; margin-bottom:1rem; }
    .feature h4{ font-weight:300; color:#6b5b4b; margin-bottom:.5rem; }
    .feature p{ font-size:.9rem; color:#7a6a5a; }

    /* Contact */
    .contact{ background:linear-gradient(135deg, #daa5a5, #ca9b9b); color:white; border-radius:100px 100px 0 0; margin-top:50px; }
    .contact-content{ display:grid; grid-template-columns:1fr 1fr; gap:4rem; }
    .contact-info{ display:flex; flex-direction:column; gap:2rem; }
    .contact-item{
      display:flex; align-items:center; gap:1.5rem; padding:1rem; background:rgba(255,255,255,0.1); border-radius:20px; backdrop-filter:blur(5px);
    }
    .contact-form{ display:flex; flex-direction:column; gap:1.5rem; }
    .contact-form input, .contact-form textarea{
      padding:18px 24px; border:none; border-radius:25px; font-size:1rem; background:rgba(255,255,255,0.9); color:#5a4a3a; font-family:'Georgia', serif; backdrop-filter:blur(5px);
    }
    .contact-form input::placeholder, .contact-form textarea::placeholder{ color:#9a8a7a; }
    .contact-form button{
      background:linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1)); color:white; padding:18px; border:2px solid rgba(255,255,255,0.3);
      border-radius:25px; font-weight:300; cursor:pointer; transition:all .3s ease; font-family:'Georgia', serif; letter-spacing:1px;
    }
    .contact-form button:hover{ background:rgba(255,255,255,0.2); transform:translateY(-2px); }

    /* Footer */
    footer{ background:linear-gradient(135deg, #6b5b4b, #5a4a3a); color:rgba(255,255,255,0.8); text-align:center; padding:3rem 0; font-weight:300; }

    /* Animations */
    @keyframes fadeInUp { from{opacity:0; transform:translateY(50px);} to{opacity:1; transform:translateY(0);} }
    @keyframes float { 0%,100%{ transform:translateY(0) rotate(0); } 33%{ transform:translateY(-20px) rotate(2deg);} 66%{ transform:translateY(-10px) rotate(-2deg);} }
    @keyframes sparkle { 0%,100%{ opacity:0.3; } 50%{ opacity:0.7; } }

    /* Responsive */
    @media (max-width:768px){
      .nav-links{ display:none; }
      .hero h1{ font-size:2.5rem; }
      .about-content, .contact-content{ grid-template-columns:1fr; }
      .about-features{ grid-template-columns:1fr; }
      .organic-shape{ display:none; }
    }
  </style>
</head>
<body>
  <div class="organic-shape shape-1"></div>
  <div class="organic-shape shape-2"></div>
  <div class="organic-shape shape-3"></div>

  <header>
    <nav class="container">
      <div class="logo">üå∏ La Boutique de Jos√©phine</div>
      <ul class="nav-links">
        <li><a href="#accueil">accueil</a></li>
        <li><a href="#produits">cr√©ations</a></li>
        <li><a href="#about">notre histoire</a></li>
        <li><a href="#contact">contact</a></li>
      </ul>
    </nav>
  </header>

  <section id="accueil" class="hero">
    <div class="hero-content">
      <h1>Cr√©ations d√©licates en bois</h1>
      <p>Des pi√®ces uniques sculpt√©es au laser avec douceur et raffinement pour embellir votre int√©rieur</p>
      <a href="#produits" class="cta-button">d√©couvrir nos cr√©ations</a>
    </div>
  </section>

  <section id="produits" class="container">
    <h2 class="section-title">Nos cr√©ations d√©licates</h2>

    <!-- Toolbar de filtre (optionnelle) -->
    <div class="toolbar">
      <input id="filter-input" type="search" placeholder="Rechercher un produit‚Ä¶" aria-label="Rechercher"/>
    </div>

    <!-- Message d‚Äô√©tat dynamique -->
    <p id="sheet-status-inline" style="opacity:.7; margin-top:.25rem; font-size:.9rem;">Chargement‚Ä¶</p>

    <!-- Grille produits remplie depuis Google Sheets -->
    <div class="products-grid">
      <!-- Cartes inject√©es ici -->
    </div>
  </section>

  <section id="about" class="about">
    <div class="container">
      <h2 class="section-title">Notre histoire</h2>
      <div class="about-content">
        <div class="about-text">
          <p>Passionn√©e par la beaut√© naturelle du bois et l'art de la cr√©ation, je fa√ßonne depuis des ann√©es des pi√®ces uniques qui allient tradition artisanale et modernit√©. Chaque cr√©ation na√Æt d'une inspiration personnelle et d'une recherche constante d'harmonie.</p>
          <p>Mon atelier est un lieu de cr√©ativit√© o√π chaque pi√®ce de bois est travaill√©e avec patience et d√©licatesse, pour cr√©er des objets qui vous ressemblent et embellissent votre quotidien.</p>
        </div>
        <div class="about-features">
          <div class="feature">
            <div class="feature-icon">‚ú®</div>
            <h4>D√©licatesse</h4>
            <p>Chaque d√©tail est pens√© avec finesse</p>
          </div>
          <div class="feature">
            <div class="feature-icon">üå±</div>
            <h4>Naturel</h4>
            <p>Bois s√©lectionn√©s avec soin</p>
          </div>
          <div class="feature">
            <div class="feature-icon">üí´</div>
            <h4>Unique</h4>
            <p>Cr√©ations personnalis√©es</p>
          </div>
          <div class="feature">
            <div class="feature-icon">ü§ç</div>
            <h4>Durable</h4>
            <p>Qualit√© et respect de l'environnement</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="contact" class="contact">
    <div class="container">
      <h2 class="section-title">√âchangeons ensemble</h2>
    <div class="contact-content">
        <div class="contact-info">
          <div class="contact-item">
            <span style="font-size:1.8rem;">üè°</span>
            <div>
              <h4>Atelier</h4>
              <p>123 Rue des Cr√©ateurs<br/>30170 Brignon, France</p>
            </div>
          </div>
          <div class="contact-item">
            <span style="font-size:1.8rem;">üìû</span>
            <div>
              <h4>T√©l√©phone</h4>
              <p>04 66 XX XX XX</p>
            </div>
          </div>
          <div class="contact-item">
            <span style="font-size:1.8rem;">üíå</span>
            <div>
              <h4>Email</h4>
              <p>hello@laboutiquedejosephine.fr</p>
            </div>
          </div>
          <div class="contact-item">
            <span style="font-size:1.8rem;">üåô</span>
            <div>
              <h4>Horaires</h4>
              <p>Lun-Ven : 10h-17h<br/>Sam : sur rendez-vous</p>
            </div>
          </div>
        </div>
        <form class="contact-form">
          <input type="text" placeholder="Votre pr√©nom" required />
          <input type="email" placeholder="Votre email" required />
          <input type="tel" placeholder="Votre t√©l√©phone" />
          <textarea placeholder="Partagez-nous votre projet..." rows="5" required></textarea>
          <button type="submit">envoyer mon message</button>
        </form>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <p>&copy; 2025 La Boutique de Jos√©phine. Cr√©√© avec amour. | Cr√©ations artisanales en bois d√©coup√© au laser</p>
    </div>
  </footer>

  <script>
    // Smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) target.scrollIntoView({ behavior:'smooth', block:'start' });
      });
    });

    // Header transparency on scroll
    window.addEventListener('scroll', function(){
      const header = document.querySelector('header');
      header.style.background = (window.scrollY > 100)
        ? 'linear-gradient(135deg, rgba(218,165,165,0.95), rgba(202,155,155,0.95))'
        : 'linear-gradient(135deg, rgba(218,165,165,0.9), rgba(202,155,155,0.9))';
    });

    // Form submission
    document.querySelector('.contact-form').addEventListener('submit', function(e){
      e.preventDefault();
      alert('Merci pour votre message ! Je vous r√©pondrai tr√®s bient√¥t avec plaisir.');
      this.reset();
    });

    // Animate on scroll
    const observerOptions = { threshold:0.1, rootMargin:'0px 0px -50px 0px' };
    const observer = new IntersectionObserver(function(entries){
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          entry.target.style.animation = 'fadeInUp .8s ease-out forwards';
        }
      });
    }, observerOptions);

    document.querySelectorAll('.product-card, .feature').forEach(card=>{
      card.style.opacity='0'; card.style.transform='translateY(30px)'; observer.observe(card);
    });

    // Parallax organic shapes
    window.addEventListener('scroll', function(){
      const scrolled = window.pageYOffset;
      document.querySelectorAll('.organic-shape').forEach((shape, index)=>{
        const speed = (index + 1) * 0.3;
        shape.style.transform = `translateY(${scrolled * speed}px)`;
      });
    });
  </script>

  <!-- ====== Int√©gration Google Sheets (CSV) avec PRIX ====== -->
  <script>
    /* ===================== CONFIG ===================== */
    const CSV_URL =
      "https://docs.google.com/spreadsheets/d/e/2PACX-1vSl5rtBY94kiWBeL5yMK9uoKLbRsirFc9XNFHqPEbN_0JGaTJzxWkdVX1Gjb7bC2YguiNXYo5nu15df/pub?gid=0&single=true&output=csv";
    const TARGET_SELECTOR = ".products-grid";
    const USE_HEADER_ROW = true;        // 1re ligne = en-t√™tes
    const AUTO_REFRESH_MS = 0;          // ex. 300000 pour 5 min; 0 = off
    /* ================================================== */

    function setStatus(msg){
      const el = document.getElementById("sheet-status-inline");
      if (el) el.textContent = msg;
    }

    // Parser CSV robuste
    function parseCSV(text){
      if (text.charCodeAt(0) === 0xFEFF) text = text.slice(1); // BOM
      const rows = []; let row = [], val = "", inQuotes = false;
      for (let i=0; i<text.length; i++){
        const c = text[i], n = text[i+1];
        if (inQuotes){
          if (c === '"' && n === '"'){ val += '"'; i++; }
          else if (c === '"'){ inQuotes = false; }
          else { val += c; }
        } else {
          if (c === '"'){ inQuotes = true; }
          else if (c === ','){ row.push(val); val = ""; }
          else if (c === '\n'){ row.push(val); rows.push(row); row = []; val = ""; }
          else if (c === '\r'){ /* ignore */ }
          else { val += c; }
        }
      }
      if (val.length || row.length){ row.push(val); rows.push(row); }
      while (rows.length && rows[rows.length-1].every(x => x === "")) rows.pop();
      return rows;
    }

    function headerIndexMap(headers){
      const map = {};
      headers.forEach((h,i)=>{
        const k = (h||"").toString().trim().toLowerCase();
        if (k) map[k] = i;
      });
      return map;
    }

    function getByHeader(row, map, ...aliases){
      for (const name of aliases){
        const key = name.toLowerCase();
        if (key in map) return (row[map[key]] ?? "").toString().trim();
      }
      return "";
    }

    function formatEUR(val){
      if (val === "" || val === null || typeof val === "undefined") return "";
      // Nettoyage : enl√®ve symbole ‚Ç¨, espaces, remplace virgule par point
      let s = String(val).replace(/[‚Ç¨\s]/g, "").replace(",", ".");
      let n = Number(s);
      if (Number.isNaN(n)) return String(val); // affiche brut si non num√©rique
      return new Intl.NumberFormat('fr-FR', { style:'currency', currency:'EUR' }).format(n);
    }

    function renderProducts(rows, filterText=""){
      const container = document.querySelector(TARGET_SELECTOR);
      if (!container) return console.warn("Container non trouv√©:", TARGET_SELECTOR);
      container.innerHTML = "";

      if (!rows || !rows.length){ setStatus("Aucune donn√©e."); return; }

      let start = 0, map = {};
      if (USE_HEADER_ROW){
        const headers = rows[0].map(h => (h || "").toString().trim());
        map = headerIndexMap(headers);
        start = 1;
      } else {
        map = { "emoji":0, "titre":1, "description":2, "prix":3 };
      }

      const q = (filterText || "").toLowerCase();
      let count = 0;

      for (let r = start; r < rows.length; r++){
        const row = rows[r];
        if (!row || row.every(c => (c ?? "").toString().trim() === "")) continue;

        const emoji = getByHeader(row, map, "emoji", "icone", "icon");
        const titre = getByHeader(row, map, "titre", "title", "nom", "produit");
        let description = getByHeader(row, map, "description", "desc", "texte");
        const prixRaw = getByHeader(row, map, "prix", "price", "tarif", "‚Ç¨", "eur");

        description = description.replace(/\r?\n/g, "<br>");
        const prixFmt = formatEUR(prixRaw);

        // Filtre client (titre + description + prix)
        const hay = (titre + " " + description.replace(/<br>/g," ") + " " + prixFmt).toLowerCase();
        if (q && !hay.includes(q)) continue;

        const card = document.createElement("div");
        card.className = "product-card";
        card.innerHTML = `
          <div class="product-image">${emoji || "ü™µ"}</div>
          <div class="product-content">
            <h3 class="product-title">${titre || "Sans titre"}</h3>
            ${prixFmt ? `<div class="price-tag">${prixFmt}</div>` : ""}
            <p class="product-description">${description || ""}</p>
          </div>
        `;
        container.appendChild(card);
        count++;
      }

      setStatus(count ? `Derni√®re mise √† jour : ${new Date().toLocaleString()} ‚Ä¢ ${count} √©l√©ment(s)` : "Aucun r√©sultat.");
    }

    async function loadCSV(){
      try{
        setStatus("Chargement des cr√©ations depuis Google Sheets‚Ä¶");
        const res = await fetch(CSV_URL, { cache:"no-store" });
        if (!res.ok) throw new Error("HTTP " + res.status);
        const text = await res.text();
        window.__rows = parseCSV(text);     // conserve en m√©moire pour le filtre
        renderProducts(window.__rows);
      } catch(e){
        console.error(e);
        setStatus("Erreur de chargement : " + (e.message || e));
      }
    }

    // Filtre en direct
    const input = document.getElementById("filter-input");
    if (input){
      input.addEventListener("input", () => {
        const rows = window.__rows || [];
        renderProducts(rows, input.value);
      });
    }

    loadCSV();
    if (AUTO_REFRESH_MS > 0) setInterval(loadCSV, AUTO_REFRESH_MS);
  </script>
</body>
</html>
